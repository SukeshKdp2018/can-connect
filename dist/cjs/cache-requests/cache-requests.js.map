{"version":3,"sources":["../../../../cache-requests/cache-requests.js"],"names":["connect","require","getItems","canSet","forEach","module","exports","behavior","baseConnection","getDiff","params","availableSets","minSets","self","call","set","curSets","difference","algebra","needed","cached","intersection","count","subset","getUnion","diff","neededItems","cachedItems","data","getListData","cacheConnection","getSets","then","sets","updateListData","cachedPromise","needsPromise","savedPromise","combinedPromise","Promise","all","result"],"mappings":"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","file":"cache-requests.js"}